<!DOCTYPE html>

<html>
    <head>
        <title>McTechDev</title>
        <link rel="stylesheet" href="styles_home.css">
    </head>

    <body>
        <div id="maincontent">
            <div id="navbar">
                <div class="siteBanner"><h3 class="siteName">Mr_McTech</h3></div>
                <div id="navBtns">
                    <a href="/" class="navBtn">Home</a>
                    <a href="https://yourfurrydeveloper.github.io/projects" class="navBtn">My More Nerdy Site</a>
                    <a href="/coding-corner.html" class="navBtn">Coding Corner</a>
                    <a href="/music.html" class="navBtn">My Music</a>
                </div>
            </div>

            <div id="mainpage">
                <div id="sidebar">
                    <h2 style="margin: 0; color: rgb(29, 165, 29);">Welcome to my site!</h2>
                    <br>
                    <p>This is my everything site, where you can find basically all my stuff! Make sure to still check out my original site, which was and still IS focused on my more nerdy stuff! :3</p>
                    <br>
                    <img src="https://img.shields.io/youtube/channel/subscribers/UCKzLDB3cvUhWIpFibsmGV6g?style=social">
                    <br>
                    <br>
                    <div class="unsolicited-ad-panel">
                        <p>Unsolicited Advertisement</p>
                        <a style="background-image: url('img/yt_ad.png');" href="https://www.youtube.com/channel/UCKzLDB3cvUhWIpFibsmGV6g" class="adLink"></a>
                    </div>
                </div>

                <div id="rightColumn">
                    <div class="pagerow" style="margin-bottom: 30px;">
                        <h2 class="genericHeader" style="color: red;">SITE NEWS!</h2>
                        <p class="genericParagraph">The site has just opened, but is still under construction!<br>Feel free to explore, but just note that some parts MAY still be being worked on. :3</p>
                    </div>

                    <div class="pagerow">
                        <p class="rowHeader">My Featured Videos</p>
                        <div class="rowScrollContainer" style="height: fit-content;">
                            <div class="postContainer">
                                <img class="postImg" src="https://i9.ytimg.com/vi_webp/5DLj01vNduo/mqdefault.webp?v=692a0079&sqp=CPyl8MkG&rs=AOn4CLCjCgvcgsvGrTtj3LYC5T3-AtgoLQ">
                                <div class="postInfoContainer">
                                    <a href="https://www.youtube.com/watch?v=5DLj01vNduo" class="postName">Don't do ASMR mystery openings...</a>
                                    <p class="otherPostInfo">Nov 28, 2025</p>
                                </div>
                            </div>
                            <div class="postContainer">
                                <img class="postImg" src="https://i9.ytimg.com/vi/kowosxIT64g/mqdefault.jpg?v=68788384&sqp=CPyl8MkG&rs=AOn4CLAHbWokyGo32HR2CWQh3FLoi-2NsQ">
                                <div class="postInfoContainer">
                                    <a href="https://www.youtube.com/watch?v=kowosxIT64g" class="postName">Anatomy of A School Chromebook</a>
                                    <p class="otherPostInfo">Jul 17, 2025</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="pagerow">
                        <p class="rowHeader">RECCOMENDED HYPERLINKS</p>
                        <a href="https://yourfurrydeveloper.github.io/projects" class="navBtn">My More Nerdy Site</a>
                    </div>

                    <div class="pagerow">
                        <p class="rowHeader">From My Nerdy Site - Latest Stuff</p>
                        <div class="rowContainer">
                            <div class="postContainer" style="width: 100%; height: 100%;">
                                <h3>Blog post</h3>
                                <img class="postImg" id="latestPostImg" src="https://i9.ytimg.com/vi/gYHeCT48eFs/sddefault.jpg?sqp=CPyH4ckG-oaymwEmCIAFEOAD8quKqQMa8AEB-AH2BoACgA-KAgwIABABGFsgSShlMA8=&rs=AOn4CLCtmWzpB-hTllI0pE0D2OYAZmTXTQ">
                                <div class="postInfoContainer">
                                    <a href="" id="latestPostName" class="postName" style="font-size: 20px;">Loading...</a>
                                    <p id="latestPostDate" class="otherPostInfo" style="font-size: 15px;">Loading...</p>
                                </div>
                            </div>

                            <div class="postContainer" style="width: 100%; height: 100%;">
                                <h3>Project</h3>
                                <img class="postImg" id="latestProjectImg" src="">
                                <div class="postInfoContainer">
                                    <a href="" id="latestProjectName" class="postName" style="font-size: 20px;">Loading...</a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <script>
            loadProjects();
            loadPosts();

            function loadProjects() {
                const xmlUrl = 'https://raw.githubusercontent.com/YourFurryDeveloper/projects/refs/heads/main/projects.xml';

                fetch(xmlUrl)
                    .then(response => {
                        if (!response.ok) {
                            throw new Error('Network response was not ok');
                        }
                        return response.text();
                    })
                    .then(xmlString => {
                        const projects = parseXML(xmlString);
                        console.log(projects);
                    })
                    .catch(error => {
                        console.error('There was a problem fetching the XML file:', error);
                        alert('There was a problem fetching the project data: ' + error.message);
                    });

                function parseXML(xmlString) {
                    const parser = new DOMParser();
                    const xmlDoc = parser.parseFromString(xmlString, 'application/xml');

                    const projectNodes = xmlDoc.getElementsByTagName('project');

                    const project = projectNodes[projectNodes.length - 1];
                    const img = project.getElementsByTagName('img')[0].textContent;
                    const name = project.getElementsByTagName('name')[0].textContent;

                    document.getElementById("latestProjectImg").src = `https://yourfurrydeveloper.github.io/projects/${img}`;
                    document.getElementById("latestProjectName").textContent = name;
                    document.getElementById("latestProjectName").href = `https://yourfurrydeveloper.github.io/projects/projpage.html?p=${projectNodes.length - 1}`;
                }
            }

            function loadPosts() {
                const urlParams = new URLSearchParams(window.location.search);
                const pname = urlParams.get("p");

                const xmlUrl = 'https://yourfurrydeveloper.github.io/projects/posts.xml';

                fetch(xmlUrl)
                .then(response => {
                    if (!response.ok) {
                        throw new Error('Network response was not ok');
                    }
                    return response.text();
                })
                .then(xmlString => {
                    parseXML(xmlString);
                })
                .catch(error => {
                    console.error('There was a problem fetching the XML file:', error);
                    alert('There was a problem fetching the post data:', error);
                });

                function parseXML(xmlString) {
                    const parser = new DOMParser();
                    const xmlDoc = parser.parseFromString(xmlString, 'application/xml');

                    const parsedposts = [];

                    const projectNodes = xmlDoc.getElementsByTagName('post');

                    const post = projectNodes[0];
                    const title = post.getElementsByTagName('title')[0].textContent;
                    const date = post.getElementsByTagName('date')[0].textContent;
                    const img = post.getElementsByTagName('img')[0].textContent;

                    document.getElementById("latestPostImg").src = img;
                    document.getElementById("latestPostName").textContent = title;
                    document.getElementById("latestPostName").href = `https://yourfurrydeveloper.github.io/projects/post.html?p=${title}`;
                    document.getElementById("latestPostDate").textContent = date;
                }
            }
        </script>
    </body>
</html>